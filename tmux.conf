set -g default-terminal "tmux-256color"
set -g mouse on
set -g prefix C-a
set-window-option -g mode-keys vi
set -g default-command /usr/sbin/fish
set -g default-shell /usr/sbin/fish
set -sg escape-time 0
set-option -ga terminal-overrides ",xterm-256color:RGB:clipboard"
set -as terminal-overrides ',*:Smulx=\E[4::%p1%dm'  # undercurl support
set -as terminal-overrides ',*:Setulc=\E[58::2::%p1%{65536}%/%d::%p1%{256}%/%{255}%&%d::%p1%{255}%&%d%;m' # undercurl colors

set-option -g status-position top

# config
set -g status-interval 2
set -g focus-events on
set -s set-clipboard on

# keybinds similar to i3

# Move between panes in the current window
bind -n M-h select-pane -L
bind -n M-l select-pane -R
bind -n M-k select-pane -U
bind -n M-j select-pane -D

# Move pane up or down in the index
bind -n M-J swap-pane -D
bind -n M-K swap-pane -U

# Change between layouts
bind -n M-H previous-layout
bind -n M-L next-layout

# Open new terminal window, default horizontal
bind -n M-Enter split-window -h

bind -n M-v switch-client -T vertical-keys
# Press <M-v><Enter> next to make a vertical split
bind -T vertical-keys Enter split-window -v

# Prompt to close current window (will also close panes)
bind -n M-Q confirm-before -p "Close current window #W? (y/n)" kill-window
# Prompt to close current pane
bind -n M-q confirm-before -p "Close current pane #P? (y/n)" kill-pane

# Navigate to windows or create if they exist
bind -n M-0 if-shell 'tmux select-window -t :0' '' 'new-window -t :0'
bind -n M-1 if-shell 'tmux select-window -t :1' '' 'new-window -t :1'
bind -n M-2 if-shell 'tmux select-window -t :2' '' 'new-window -t :2'
bind -n M-3 if-shell 'tmux select-window -t :3' '' 'new-window -t :3'
bind -n M-4 if-shell 'tmux select-window -t :4' '' 'new-window -t :4'
bind -n M-5 if-shell 'tmux select-window -t :5' '' 'new-window -t :5'
bind -n M-6 if-shell 'tmux select-window -t :6' '' 'new-window -t :6'
bind -n M-7 if-shell 'tmux select-window -t :7' '' 'new-window -t :7'
bind -n M-8 if-shell 'tmux select-window -t :8' '' 'new-window -t :8'
bind -n M-9 if-shell 'tmux select-window -t :9' '' 'new-window -t :9'

# Move pane to window, or create new window
bind -n M-) if-shell 'tmux break-pane -t :0' '' 'join-pane -t :0'  
bind -n M-! if-shell 'tmux break-pane -t :1' '' 'join-pane -t :1'  
bind -n M-@ if-shell 'tmux break-pane -t :2' '' 'join-pane -t :2'  
bind -n M-# if-shell 'tmux break-pane -t :3' '' 'join-pane -t :3'  
bind -n M-$ if-shell 'tmux break-pane -t :4' '' 'join-pane -t :4'  
bind -n M-% if-shell 'tmux break-pane -t :5' '' 'join-pane -t :5'  
bind -n M-^ if-shell 'tmux break-pane -t :6' '' 'join-pane -t :6'  
bind -n M-& if-shell 'tmux break-pane -t :7' '' 'join-pane -t :7'  
bind -n M-* if-shell 'tmux break-pane -t :8' '' 'join-pane -t :8'  
bind -n M-( if-shell 'tmux break-pane -t :9' '' 'join-pane -t :9'  

# dont allow right click menu
unbind -n MouseDown3Pane

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-battery'
set -g @batt_remain_short 'true'

set-option -g @plugin 'b0o/tmux-autoreload'

# Catppuccin Mocha adaptation
set -g mode-style "fg=#c6a0f6,bg=#dce0e8"
set -g message-style "fg=#c6a0f6,bg=#dce0e8"
set -g message-command-style "fg=#c6a0f6,bg=#dce0e8"
set -g pane-border-style "fg=#dce0e8"
set -g pane-active-border-style "fg=#c6a0f6"
set -g status "on"
set -g status-justify "left"
set -g status-style "fg=#c6a0f6,bg=#181825"
set -g status-left-length "100"
set -g status-right-length "100"
set -g status-left-style NONE
set -g status-right-style NONE
set -g status-left "#[fg=#e5e9f0,bg=#c6a0f6,bold] #S #[fg=#c6a0f6,bg=#181825,nobold,nounderscore,noitalics]"
set -g status-right "#[fg=#181825,bg=#181825,nobold,nounderscore,noitalics]#[fg=#c6a0f6,bg=#181825] #{battery_percentage}  #{battery_remain} #[fg=#dce0e8,bg=#181825,nobold,nounderscore,noitalics]#[fg=#c6a0f6,bg=#dce0e8] %Y-%m-%d  %I:%M %p #[fg=#c6a0f6,bg=#dce0e8,nobold,nounderscore,noitalics]#[fg=#e5e9f0,bg=#c6a0f6,bold] #h "
setw -g window-status-activity-style "underscore,fg=#bbc3d4,bg=#181825"
setw -g window-status-separator ""
setw -g window-status-style "NONE,fg=#a6adc8,bg=#181825"
setw -g window-status-format "#[fg=#181825,bg=#181825,nobold,nounderscore,noitalics]#[default] #I  #W #F #[fg=#181825,bg=#181825,nobold,nounderscore,noitalics]"
setw -g window-status-current-format "#[fg=#181825,bg=#dce0e8,nobold,nounderscore,noitalics]#[fg=#c6a0f6,bg=#dce0e8,bold] #I  #W #F #[fg=#dce0e8,bg=#181825,nobold,nounderscore,noitalics]"

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '~/.tmux/plugins/tpm/tpm'
